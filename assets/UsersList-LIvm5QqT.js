import{d as k,f as w,o as n,a as r,F as C,E as v,y as d,p as B,m as I,u as a,b as q,j as u,n as L,D as V,z as A,B as i,C as b}from"./vue.esm-bundler-CKZLKMJN.js";import{N as E}from"./ActionToggle-ByhIm0Sd.js";import{N as O}from"./Badge-DprpAbZ0.js";import{N as $}from"./UserInfo-D9vbHoN0.js";import{u as P}from"./useI18n-BYVGpRei.js";import{_ as S}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W=["data-test-id"],c=k({__name:"UsersList",props:{users:{default:()=>[]},readonly:{type:Boolean,default:!1},currentUserId:{default:""},actions:{default:()=>[]},isSamlLoginEnabled:{type:Boolean,default:!1}},emits:["action"],setup(f,{emit:p}){const o=f,{t:g}=P(),l=w(()=>[...o.users].sort((e,t)=>{if(!e.email||!t.email)throw new Error("Expected all users to have email");if(e.isPendingUser&&t.isPendingUser)return e.email>t.email?1:-1;if(e.isPendingUser)return-1;if(t.isPendingUser)return 1;if(e.isOwner)return-1;if(t.isOwner)return 1;if(e.lastName&&t.lastName&&e.firstName&&t.firstName){if(e.lastName!==t.lastName)return e.lastName>t.lastName?1:-1;if(e.firstName!==t.firstName)return e.firstName>t.firstName?1:-1}return e.email>t.email?1:-1})),y=()=>!0,m=e=>e.isOwner?[]:o.actions.filter(t=>(t.guard??y)(e)),N=p,_=(e,t)=>N("action",{action:t,userId:e.id});return(e,t)=>(n(),r("div",null,[(n(!0),r(C,null,v(l.value,(s,U)=>(n(),r("div",{key:s.id,class:d(U===l.value.length-1?e.$style.itemContainer:e.$style.itemWithBorder),"data-test-id":`user-list-item-${s.email}`},[B(a($),I(s,{"is-current-user":e.currentUserId===s.id,"is-saml-login-enabled":e.isSamlLoginEnabled}),null,16,["is-current-user","is-saml-login-enabled"]),q("div",{class:d(e.$style.badgeContainer)},[s.isOwner?(n(),u(a(O),{key:0,theme:"tertiary",bold:""},{default:L(()=>[V(A(a(g)("nds.auth.roles.owner")),1)]),_:1})):i("",!0),!s.isOwner&&!e.readonly?b(e.$slots,"actions",{key:1,user:s}):i("",!0),!s.isOwner&&s.signInType!=="ldap"&&!e.readonly&&m(s).length>0&&e.actions.length>0?(n(),u(a(E),{key:2,placement:"bottom",actions:m(s),theme:"dark",onAction:h=>_(s,h)},null,8,["actions","onAction"])):i("",!0)],2)],10,W))),128))]))}}),F="_itemContainer_wgqkm_1",T="_itemWithBorder_wgqkm_9 _itemContainer_wgqkm_1",z="_badgeContainer_wgqkm_14",D={itemContainer:F,itemWithBorder:T,badgeContainer:z},M={$style:D},R=S(c,[["__cssModules",M]]);c.__docgenInfo={exportName:"default",displayName:"UsersList",description:"",tags:{},props:[{name:"users",required:!0,type:{name:"Array",elements:[{name:"IUser"}]},defaultValue:{func:!1,value:"() => []"}},{name:"readonly",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"currentUserId",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"''"}},{name:"actions",required:!1,type:{name:"Array",elements:[{name:"UserAction"}]},defaultValue:{func:!1,value:"() => []"}},{name:"isSamlLoginEnabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"action",type:{names:["{ action: string; userId: string }"]}}],slots:[{name:"actions",scoped:!0,bindings:[{name:"user",title:"binding"}]}],sourceFiles:["/home/runner/work/n8n-storybook/n8n-storybook/packages/design-system/src/components/N8nUsersList/UsersList.vue"]};export{R as N};
