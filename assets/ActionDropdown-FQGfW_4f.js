import{d as z,l as D,r as N,f as V,o as n,a as c,p as d,n as r,u as s,y as o,F as B,E as q,C as $,j as u,G as M,H as E,b as p,B as f,z as F,m as P}from"./vue.esm-bundler-CKZLKMJN.js";import{N as T}from"./Icon-eGxnSFmd.js";import{N as j}from"./N8nKeyboardShortcut-i_aFHBvQ.js";import{E as G,a as H,b as K}from"./index-BwcWkopo.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const O=["data-test-id"],_=z({__name:"ActionDropdown",props:{items:{},placement:{default:"bottom"},activatorIcon:{default:"ellipsis-h"},activatorSize:{default:"medium"},iconSize:{default:"medium"},trigger:{default:"click"},hideArrow:{type:Boolean,default:!1},teleported:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1}},emits:["select","visibleChange"],setup(v,{expose:y,emit:w}){const h=v,b=D()["data-test-id"],a=M(),g=e=>({[a.itemContainer]:!0,[a.disabled]:!!e.disabled,[a.hasCustomStyling]:e.customClass!==void 0,...e.customClass!==void 0?{[e.customClass]:!0}:{}}),m=w,l=N(),C=V(()=>`${a.shadow}${h.hideArrow?` ${a.hideArrow}`:""}`),k=e=>m("select",e),A=e=>m("visibleChange",e),S=e=>{var i;(i=l.value)!=null&&i.handleClose&&e.relatedTarget===null&&l.value.handleClose()};return y({open:()=>{var e;return(e=l.value)==null?void 0:e.handleOpen()},close:()=>{var e;return(e=l.value)==null?void 0:e.handleClose()}}),(e,i)=>{const I=E("n8n-icon-button");return n(),c("div",{class:o(["action-dropdown-container",s(a).actionDropdownContainer])},[d(s(H),{ref_key:"elementDropdown",ref:l,placement:e.placement,trigger:e.trigger,"popper-class":C.value,teleported:e.teleported,disabled:e.disabled,onCommand:k,onVisibleChange:A},{dropdown:r(()=>[d(s(G),{class:o(s(a).userActionsMenu)},{default:r(()=>[(n(!0),c(B,null,q(e.items,t=>(n(),u(s(K),{key:t.id,command:t.id,disabled:t.disabled,divided:t.divided,class:o(s(a).elementItem)},{default:r(()=>[p("div",{class:o(g(t)),"data-test-id":`${s(b)}-item-${t.id}`},[t.icon?(n(),c("span",{key:0,class:o(s(a).icon)},[d(s(T),{icon:t.icon,size:e.iconSize},null,8,["icon","size"])],2)):f("",!0),p("span",{class:o(s(a).label)},F(t.label),3),t.shortcut?(n(),u(s(j),P({key:1},t.shortcut,{class:s(a).shortcut}),null,16,["class"])):f("",!0)],10,O)]),_:2},1032,["command","disabled","divided","class"]))),128))]),_:1},8,["class"])]),default:r(()=>[e.$slots.activator?$(e.$slots,"activator",{key:0}):(n(),u(I,{key:1,type:"tertiary",text:"",class:o(s(a).activator),size:e.activatorSize,icon:e.activatorIcon,onBlur:S},null,8,["class","size","icon"]))]),_:3},8,["placement","trigger","popper-class","teleported","disabled"])],2)}}}),x="_userActionsMenu_lwsuk_1",J="_elementItem_lwsuk_5",Q="_hideArrow_lwsuk_9",R="_shadow_lwsuk_13",U="_activator_lwsuk_17",W="_itemContainer_lwsuk_21",X="_disabled_lwsuk_30",Y="_shortcut_lwsuk_30",Z="_icon_lwsuk_34",ee="_hasCustomStyling_lwsuk_46",se={userActionsMenu:x,elementItem:J,hideArrow:Q,shadow:R,activator:U,itemContainer:W,disabled:X,shortcut:Y,icon:Z,hasCustomStyling:ee},ae={$style:se},ue=L(_,[["__cssModules",ae]]);_.__docgenInfo={exportName:"default",displayName:"ActionDropdown",description:"",tags:{},expose:[{name:"open"},{name:"close"}],props:[{name:"items",required:!0,type:{name:"Array",elements:[{name:"ActionDropdownItem"}]}},{name:"placement",required:!1,type:{name:"Placement"},defaultValue:{func:!1,value:"'bottom'"}},{name:"activatorIcon",required:!1,type:{name:"string"},defaultValue:{func:!1,value:"'ellipsis-h'"}},{name:"activatorSize",required:!1,type:{name:"IconSize"},defaultValue:{func:!1,value:"'medium'"}},{name:"iconSize",required:!1,type:{name:"IconSize"},defaultValue:{func:!1,value:"'medium'"}},{name:"trigger",required:!1,type:{name:"TSIndexedAccessType"},defaultValue:{func:!1,value:"'click'"}},{name:"hideArrow",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}},{name:"teleported",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"disabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"false"}}],events:[{name:"select",type:{names:["string"]}},{name:"visibleChange",type:{names:["boolean"]}}],slots:[{name:"activator"}],sourceFiles:["/home/runner/work/n8n-storybook/n8n-storybook/packages/design-system/src/components/N8nActionDropdown/ActionDropdown.vue"]};export{ue as N};
