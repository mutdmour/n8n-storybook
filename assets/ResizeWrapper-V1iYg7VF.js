import{d as k,f as M,r as o,o as c,a as f,F as V,E as x,C as S,y as v}from"./vue.esm-bundler-CKZLKMJN.js";import{_ as C}from"./_plugin-vue_export-helper-DlAUqK2U.js";const $=["data-dir"],z=k({__name:"ResizeWrapper",props:{isResizingEnabled:{type:Boolean,default:!0},height:{default:0},width:{default:0},minHeight:{default:0},minWidth:{default:0},scale:{default:1},gridSize:{default:20},supportedDirections:{default:()=>[]}},emits:["resizestart","resize","resizeend"],setup(_,{emit:b}){function y(e,s){const a=e/s,r=s*a,n=e*s>0?s*(a+1):s*(a-1);return Math.abs(e-r)<Math.abs(e-n)?r:n}function p(e,s,a){const r=y(s,a);return r>=e&&s>0?r:e}const m={right:"ew-resize",top:"ns-resize",bottom:"ns-resize",left:"ew-resize",topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize"},i=_,l=b,w=M(()=>{const e=Object.keys(m);return i.isResizingEnabled?i.supportedDirections.length===0?e:i.supportedDirections:[]}),t={dir:o(""),dHeight:o(0),dWidth:o(0),vHeight:o(0),vWidth:o(0),x:o(0),y:o(0)},h=e=>{e.preventDefault(),e.stopPropagation();let s=0,a=0,r=!1,n=!1;t.dir.value.includes("right")&&(s=e.pageX-t.x.value),t.dir.value.includes("left")&&(s=t.x.value-e.pageX,n=!0),t.dir.value.includes("top")&&(a=t.y.value-e.pageY,r=!0),t.dir.value.includes("bottom")&&(a=e.pageY-t.y.value);const W=(s-t.dWidth.value)/i.scale,L=(a-t.dHeight.value)/i.scale;t.vHeight.value=t.vHeight.value+L,t.vWidth.value=t.vWidth.value+W;const u=p(i.minHeight,t.vHeight.value,i.gridSize),d=p(i.minWidth,t.vWidth.value,i.gridSize),H=n&&d!==i.width?-1*(d-i.width):0,j=r&&u!==i.height?-1*(u-i.height):0,D=e.x,q=e.y,E=t.dir.value;l("resize",{height:u,width:d,dX:H,dY:j,x:D,y:q,direction:E}),t.dHeight.value=a,t.dWidth.value=s},g=e=>{e.preventDefault(),e.stopPropagation(),l("resizeend"),window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",g),document.body.style.cursor="unset",t.dir.value=""},R=e=>{e.preventDefault(),e.stopPropagation();const s=e.target;s&&(t.dir.value=s.dataset.dir.toLocaleLowerCase()),document.body.style.cursor=m[t.dir.value],t.x.value=e.pageX,t.y.value=e.pageY,t.dWidth.value=0,t.dHeight.value=0,t.vHeight.value=i.height,t.vWidth.value=i.width,window.addEventListener("mousemove",h),window.addEventListener("mouseup",g),l("resizestart")};return(e,s)=>(c(),f("div",{class:v(e.$style.resize)},[(c(!0),f(V,null,x(w.value,a=>(c(),f("div",{key:a,"data-dir":a,class:v({[e.$style.resizer]:!0,[e.$style[a]]:!0}),onMousedown:R},null,42,$))),128)),S(e.$slots,"default")],2))}}),N="_resize_87i2j_1",X="_resizer_87i2j_8",Y="_right_87i2j_13",B="_top_87i2j_21",F="_bottom_87i2j_29",P="_left_87i2j_37",A="_topLeft_87i2j_45",I="_topRight_87i2j_53",O="_bottomLeft_87i2j_61",U="_bottomRight_87i2j_69",G={resize:N,resizer:X,right:Y,top:B,bottom:F,left:P,topLeft:A,topRight:I,bottomLeft:O,bottomRight:U},J={$style:G},T=C(z,[["__cssModules",J]]);z.__docgenInfo={exportName:"default",displayName:"ResizeWrapper",description:"",tags:{},props:[{name:"isResizingEnabled",required:!1,type:{name:"boolean"},defaultValue:{func:!1,value:"true"}},{name:"height",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"width",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"minHeight",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"minWidth",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"0"}},{name:"scale",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"1"}},{name:"gridSize",required:!1,type:{name:"number"},defaultValue:{func:!1,value:"20"}},{name:"supportedDirections",required:!1,type:{name:"Array",elements:[{name:"Direction"}]},defaultValue:{func:!1,value:"() => []"}}],events:[{name:"resizestart"},{name:"resize",type:{names:["ResizeData"]}},{name:"resizeend"}],slots:[{name:"default"}],sourceFiles:["/home/runner/work/n8n-storybook/n8n-storybook/packages/design-system/src/components/N8nResizeWrapper/ResizeWrapper.vue"]};export{T as R};
