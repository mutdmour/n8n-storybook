import{d as B,k as T,r as h,f as a,w as W,o as g,a as w,N as _,O as v,b as d,p as u,u as l,y as r,I as n,Q as I,n as K,B as O,A as z}from"./vue.esm-bundler-CKZLKMJN.js";import{N as D}from"./Input-C8h2vlZL.js";import{N as x}from"./Markdown-CCO5iGuy.js";import{N as U}from"./Text-DFJ1zlSw.js";import{u as F}from"./useI18n-BYVGpRei.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={height:180,width:240,minHeight:80,minWidth:150,id:"0",editMode:!1,readOnly:!1,backgroundColor:1},A=["innerHTML"],b=B({__name:"Sticky",props:T({modelValue:{},height:{},width:{},minHeight:{},minWidth:{},id:{},defaultText:{},editMode:{type:Boolean},readOnly:{type:Boolean},backgroundColor:{}},P),emits:["edit","update:modelValue","markdown-click"],setup(q,{emit:M}){const t=q,s=M,{t:N}=F(),m=h(!1),i=h(void 0),c=a(()=>t.height<t.minHeight?t.minHeight:t.height),p=a(()=>t.width<t.minWidth?t.minWidth:t.width),V=a(()=>t.id?`${t.id}-input`:void 0),C=a(()=>({height:`${c.value}px`,width:`${p.value}px`})),y=a(()=>c.value>100&&p.value>155);W(()=>t.editMode,(e,o)=>{setTimeout(()=>{e&&!o&&i.value&&(t.defaultText===t.modelValue&&i.value.select(),i.value.focus())},100)});const S=()=>{t.readOnly||s("edit",!0)},f=()=>{m.value||s("edit",!1)},k=e=>{s("update:modelValue",e)},$=(e,o)=>{s("markdown-click",e,o)},H=e=>{!e.ctrlKey&&!e.metaKey&&e.stopPropagation()};return(e,o)=>(g(),w("div",{class:r({"n8n-sticky":!0,[e.$style.sticky]:!0,[e.$style.clickable]:!m.value,[e.$style[`color-${e.backgroundColor}`]]:!0}),style:z(C.value),onKeydown:o[4]||(o[4]=n(()=>{},["prevent"]))},[_(d("div",{class:r(e.$style.wrapper),onDblclick:n(S,["stop"])},[u(l(x),{theme:"sticky",content:e.modelValue,"with-multi-breaks":!0,onMarkdownClick:$,onUpdateContent:k},null,8,["content"])],34),[[v,!e.editMode]]),_(d("div",{class:r({"full-height":!y.value,"sticky-textarea":!0}),onClick:o[0]||(o[0]=n(()=>{},["stop"])),onMousedown:o[1]||(o[1]=n(()=>{},["stop"])),onMouseup:o[2]||(o[2]=n(()=>{},["stop"])),onKeydown:[I(f,["esc"]),o[3]||(o[3]=n(()=>{},["stop"]))]},[u(l(D),{ref_key:"input",ref:i,"model-value":e.modelValue,name:V.value,type:"textarea",rows:5,onBlur:f,"onUpdate:modelValue":k,onWheel:H},null,8,["model-value","name"])],34),[[v,e.editMode]]),e.editMode&&y.value?(g(),w("div",{key:0,class:r(e.$style.footer)},[u(l(U),{size:"xsmall",align:"right"},{default:K(()=>[d("span",{innerHTML:l(N)("sticky.markdownHint")},null,8,A)]),_:1})],2)):O("",!0)],38))}}),E="_sticky_1iqd8_1",Q="_wrapper_1iqd8_7",R="_clickable_1iqd8_12",j="_footer_1iqd8_33",G={sticky:E,wrapper:Q,clickable:R,footer:j,"color-2":"_color-2_1iqd8_39","color-3":"_color-3_1iqd8_44","color-4":"_color-4_1iqd8_49","color-5":"_color-5_1iqd8_54","color-6":"_color-6_1iqd8_59","color-7":"_color-7_1iqd8_64"},J={$style:G},ne=L(b,[["__cssModules",J]]);b.__docgenInfo={exportName:"default",displayName:"Sticky",description:"",tags:{},props:[{name:"modelValue",required:!1,type:{name:"string"}},{name:"height",required:!1,type:{name:"number"}},{name:"width",required:!1,type:{name:"number"}},{name:"minHeight",required:!1,type:{name:"number"}},{name:"minWidth",required:!1,type:{name:"number"}},{name:"id",required:!1,type:{name:"string"}},{name:"defaultText",required:!1,type:{name:"string"}},{name:"editMode",required:!1,type:{name:"boolean"}},{name:"readOnly",required:!1,type:{name:"boolean"}},{name:"backgroundColor",required:!1,type:{name:"union",elements:[{name:"number"},{name:"string"}]}}],events:[{name:"edit",type:{names:["boolean"]}},{name:"update:modelValue",type:{names:["string"]}},{name:"markdown-click",type:{names:["string"]}}],sourceFiles:["/home/runner/work/n8n-storybook/n8n-storybook/packages/design-system/src/components/N8nSticky/Sticky.vue"]};export{ne as S,P as d};
